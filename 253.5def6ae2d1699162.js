"use strict";(self.webpackChunkA_techTask=self.webpackChunkA_techTask||[]).push([[253],{253:(P,g,i)=>{i.r(g),i.d(g,{FeaturesModule:()=>F});var r=i(6895),f=i(646),d=i(5560),h=i(1135),b=i(7579),m=i(2722),e=i(1571);var x=i(4004),Z=i(529);let v=(()=>{class t{constructor(n){this.http=n,this.baseURL="https://my-json-server.typicode.com/mabukoush1/contacts/db"}getAllDeals(){return this.http.get(this.baseURL).pipe((0,x.U)(n=>n.deals))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(Z.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=i(433);function D(t,a){if(1&t&&(e.TgZ(0,"p",5)(1,"span",12),e._uU(2),e.qZA()()),2&t){const n=e.oxw();e.xp6(1),e.MGl("title","Probability Status: ",n.deal.probability_status,""),e.xp6(1),e.hij(" ",n.deal.probability_status," ")}}function C(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",13)(2,"div",14),e._uU(3),e.qZA()()()),2&t){const n=e.oxw();e.xp6(2),e.Udp("width",n.deal.probability_status),e.xp6(1),e.hij(" ",n.deal.probability_status," ")}}const O=function(t,a){return{"bg-success-deal":t,"bg-danger-deal":a}};let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-deal"]],inputs:{deal:"deal"},decls:26,vars:16,consts:[[1,"deal-card","mt-4",3,"ngClass"],[1,"deal-card-header"],[1,"text-white"],[1,"deal-status"],[1,"deal-card-body"],[1,"m-1"],[1,"fa","fa-user"],[1,"fa","fa-envelope"],[1,"fa","fa-phone"],[1,"fa","fa-calendar"],["class","m-1",4,"ngIf"],[4,"ngIf"],["data-toggle","tooltip","data-placement","top",1,"d-inline-block","text-white","bg-primary","rounded","p-1","prop",3,"title"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"p",5),e._UZ(8,"i",6),e._uU(9),e.qZA(),e.TgZ(10,"p",5),e._UZ(11,"i",7),e._uU(12),e.qZA(),e.TgZ(13,"p",5),e._UZ(14,"i",8),e._uU(15),e.qZA(),e.TgZ(16,"p",5),e._UZ(17,"i",9),e._uU(18),e.ALo(19,"date"),e.qZA(),e.YNc(20,D,3,2,"p",10),e.TgZ(21,"p",5)(22,"strong"),e._uU(23,"State:"),e.qZA(),e._uU(24),e.qZA(),e.YNc(25,C,4,3,"div",11),e.qZA()()),2&n&&(e.Q6J("ngClass",e.WLB(13,O,"Getting Ready"===o.deal.status,"Closed"===o.deal.status)),e.xp6(3),e.Oqu(o.deal.company),e.xp6(2),e.Oqu(o.deal.status),e.xp6(4),e.AsE(" ",o.deal.first_name," ",o.deal.last_name,""),e.xp6(3),e.hij(" ",o.deal.email,""),e.xp6(3),e.hij(" ",o.deal.phone,""),e.xp6(3),e.hij(" ",e.lcZ(19,11,o.deal.date),""),e.xp6(2),e.Q6J("ngIf","Getting Ready"!=o.deal.status&&"Closed"!=o.deal.status),e.xp6(4),e.hij(" ",o.deal.state,""),e.xp6(1),e.Q6J("ngIf","Getting Ready"===o.deal.status))},dependencies:[r.mk,r.O5,r.uU],styles:[".deal-card[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #ddd;border-radius:5px;box-shadow:0 2px 4px #00000026;margin-bottom:0;overflow:hidden;min-height:280px;height:auto;box-shadow:0 0 10px #0000003b}.deal-card-header[_ngcontent-%COMP%]{background-color:#007bff;padding:10px}.deal-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff}.deal-status[_ngcontent-%COMP%]{background-color:#007bff;border-radius:2px;color:#fff;display:inline-block;font-size:12px;padding:2px 4px;margin-left:10px}.deal-status[_ngcontent-%COMP%]:hover:before, .deal-status[_ngcontent-%COMP%]:hover:after{opacity:1}.prop[_ngcontent-%COMP%]:hover{cursor:pointer}.deal-card-body[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:flex-start}.deal-card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.deal-card-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#007bff}@media screen and (max-width: 768px){.deal-card[_ngcontent-%COMP%]{margin-bottom:10px}}.bg-success-deal[_ngcontent-%COMP%]{background-color:#c0e2b1e9;box-shadow:0 0 10px #4caf50cc}.bg-danger-deal[_ngcontent-%COMP%]{background-color:#e2b1b1e9;box-shadow:0 0 10px #f44336cc}"]}),t})();function A(t,a){if(1&t&&e._UZ(0,"app-deal",16),2&t){const n=a.$implicit,o=e.oxw().$implicit;e.Q6J("deal",n),e.uIk("id",o)}}function T(t,a){1&t&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2,"No deals found."),e.qZA(),e.BQk())}function M(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",12),e.NdJ("cdkDropListDropped",function(s){const c=e.CHM(n).$implicit,u=e.oxw();return e.KtG(u.onDrop(s,c))}),e.TgZ(1,"h2",13),e._uU(2),e.qZA(),e.YNc(3,A,1,2,"app-deal",14),e.YNc(4,T,3,0,"ng-container",15),e.qZA()}if(2&t){const n=a.$implicit,o=e.oxw();e.Q6J("cdkDropListData",o.filteredDeals[n]),e.uIk("id",n),e.xp6(2),e.Oqu(n),e.xp6(1),e.Q6J("ngForOf",o.filteredDeals[n]),e.xp6(1),e.Q6J("ngIf",0===o.filteredDeals[n].length)}}const U=[{path:"",component:(()=>{class t{constructor(n){this.dealService=n,this.dealsSubject=new h.X([]),this.unsubscribe$=new b.x,this.deals$=this.dealsSubject.asObservable(),this.filteredDeals={"Potential Value":[],Focus:[],"Contact Made":[],"Offer Sent":[],"Getting Ready":[],Closed:[]},this.statuses=Object.keys(this.filteredDeals),this.searchTerm=""}ngOnInit(){this.getDeals()}getDeals(){this.dealService.getAllDeals().pipe((0,m.R)(this.unsubscribe$)).subscribe(n=>{this.dealsSubject.next(n),this.updateFilteredDeals()})}onDrop(n,o){const{previousContainer:s,container:l,previousIndex:c,currentIndex:u}=n;s===l?(0,d.bA)(l.data,c,u):(s.data[c].status=o,(0,d.EA)(s.data,l.data,c,u))}onSearch(){this.updateFilteredDeals()}updateFilteredDeals(){this.deals$.pipe((0,m.R)(this.unsubscribe$)).subscribe(n=>{for(const o of this.statuses)this.filteredDeals[o]=this.filterDeals(n,o).map(s=>({...s}))})}filterDeals(n,o){const s=new RegExp(this.searchTerm,"i");return n.filter(l=>l.status===o).filter(l=>s.test(l.first_name)||s.test(l.last_name)||s.test(l.email))}ngOnDestroy(){this.unsubscribe$.next(!0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-deals"]],features:[e._Bn([])],decls:36,vars:2,consts:[[1,"inputs-container","mt-5","w-100","pe-4"],[1,"row"],[1,"col-md-3","mb-3","mb-md-0"],[1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-md-3"],["type","text","placeholder","Search deals...",1,"form-control",3,"ngModel","ngModelChange","keyup"],["cdkDropListGroup","",1,"deals-list","row","mt-4"],["class","col-md-3 col-sm-6 col-xs-12  deal-column","cdkDropList","",3,"cdkDropListData","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"col-md-3","col-sm-6","col-xs-12","deal-column",3,"cdkDropListData","cdkDropListDropped"],[1,"p-1","d-block",2,"color","rgba(18, 18, 58, 0.977)"],["cdkDrag","",3,"deal",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkDrag","",3,"deal"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"select",3)(4,"option",4),e._uU(5,"Segment:All"),e.qZA(),e.TgZ(6,"option",5),e._uU(7,"Option 1"),e.qZA(),e.TgZ(8,"option",6),e._uU(9,"Option 2"),e.qZA(),e.TgZ(10,"option",7),e._uU(11,"Option 3"),e.qZA()()(),e.TgZ(12,"div",2)(13,"select",3)(14,"option",4),e._uU(15,"Asignee:All"),e.qZA(),e.TgZ(16,"option",5),e._uU(17,"Option 1"),e.qZA(),e.TgZ(18,"option",6),e._uU(19,"Option 2"),e.qZA(),e.TgZ(20,"option",7),e._uU(21,"Option 3"),e.qZA()()(),e.TgZ(22,"div",2)(23,"select",3)(24,"option",4),e._uU(25,"Status:All"),e.qZA(),e.TgZ(26,"option",5),e._uU(27,"Option 1"),e.qZA(),e.TgZ(28,"option",6),e._uU(29,"Option 2"),e.qZA(),e.TgZ(30,"option",7),e._uU(31,"Option 3"),e.qZA()()(),e.TgZ(32,"div",8)(33,"input",9),e.NdJ("ngModelChange",function(l){return o.searchTerm=l})("keyup",function(){return o.onSearch()}),e.qZA()()()(),e.TgZ(34,"div",10),e.YNc(35,M,5,5,"div",11),e.qZA()),2&n&&(e.xp6(33),e.Q6J("ngModel",o.searchTerm),e.xp6(2),e.Q6J("ngForOf",o.statuses))},dependencies:[r.sg,r.O5,d.Wj,d.Fd,d.Zt,p.YN,p.Kr,p.Fj,p.JJ,p.On,y],styles:[".inputs-container[_ngcontent-%COMP%]{display:flex;justify-content:end}.inputs-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.deals-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.deals-list[_ngcontent-%COMP%]   .deal-column[_ngcontent-%COMP%]{height:auto;width:auto;min-width:250px;border-radius:3px}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(U),f.Bz]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[r.ez,k,d._t,p.u5]}),t})()}}]);